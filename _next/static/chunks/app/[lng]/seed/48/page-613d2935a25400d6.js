(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3525],{471:function(e,t,n){var s={"./en/common.json":[4053,4053],"./en/farmCombine.json":[1545,1545],"./en/pointCalculator.json":[4562,4562],"./en/seed22.json":[2153,2153],"./en/seed23.json":[722,722],"./en/seed24.json":[2308,2308],"./en/seed24simulator.json":[6659,6659],"./en/seed36.json":[9842,9842],"./en/seed39.json":[4942,4942],"./en/seed39simulator.json":[2743,2743],"./en/seed42.json":[8136,8136],"./en/seed47.json":[2078,2078],"./en/seed48.json":[8251,8251],"./en/seed49.json":[5304,5304],"./en/seed49simulator.json":[1040,1040],"./ko/common.json":[6700,6700],"./ko/farmCombine.json":[6069,6069],"./ko/pointCalculator.json":[8205,8205],"./ko/seed22.json":[7819,7819],"./ko/seed23.json":[9481,9481],"./ko/seed24.json":[4563,4563],"./ko/seed24simulator.json":[2990,2990],"./ko/seed36.json":[7402,7402],"./ko/seed39.json":[8172,8172],"./ko/seed39simulator.json":[5680,5680],"./ko/seed42.json":[8411,8411],"./ko/seed47.json":[2781,2781],"./ko/seed48.json":[2371,2371],"./ko/seed49.json":[8286,8286],"./ko/seed49simulator.json":[1618,1618],"./zh-TW/common.json":[6074,6074],"./zh-TW/farmCombine.json":[2868,2868],"./zh-TW/pointCalculator.json":[1690,1690],"./zh-TW/seed22.json":[1185,1185],"./zh-TW/seed23.json":[4980,4980],"./zh-TW/seed24.json":[4259,4259],"./zh-TW/seed24simulator.json":[1832,1832],"./zh-TW/seed36.json":[5441,5441],"./zh-TW/seed39.json":[5228,2427],"./zh-TW/seed39simulator.json":[5760,5760],"./zh-TW/seed42.json":[4103,4103],"./zh-TW/seed47.json":[8279,8279],"./zh-TW/seed48.json":[8536,8536],"./zh-TW/seed49.json":[4121,4121],"./zh-TW/seed49simulator.json":[3734,3734]};function r(e){if(!n.o(s,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],r=t[0];return n.e(t[1]).then(function(){return n.t(r,19)})}r.keys=function(){return Object.keys(s)},r.id=471,e.exports=r},3004:function(){},6528:function(e,t,n){Promise.resolve().then(n.t.bind(n,2011,23)),Promise.resolve().then(n.bind(n,6315)),Promise.resolve().then(n.bind(n,1840)),Promise.resolve().then(n.t.bind(n,2362,23)),Promise.resolve().then(n.bind(n,2252)),Promise.resolve().then(n.bind(n,9900)),Promise.resolve().then(n.bind(n,8323)),Promise.resolve().then(n.bind(n,3182))},8323:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var s=n(2805),r=n(9268),a=n(6006);let o=e=>new Promise((t,n)=>{let s=new Image;s.addEventListener("load",e=>t(e.target)),s.addEventListener("error",n),s.src=e}),i=()=>{let[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{t(await o("/images/seed/48/platform.png")),s(await o("/images/seed/48/jump.png"))})()},[]),e&&n?{platform:e,jump:n}:null},l=()=>new Promise(e=>requestAnimationFrame(t=>requestAnimationFrame(n=>e(Math.floor(1e3/(n-t)))))),u=()=>{let[e,t]=(0,a.useState)(null),[n,s]=(0,a.useState)(0),r=()=>{null==e||e.getTracks().forEach(e=>e.stop()),t(null)},o=async()=>{let e=Math.max(await l(),60),n=await navigator.mediaDevices.getDisplayMedia({video:{frameRate:e,aspectRatio:1},audio:!1});n.addEventListener("inactive",r),t(n),s(e)};return{stream:e,captureStream:o,stopStream:r,fps:n}};var c=n(6850),d=n.n(c),m=new class{async dispatch(e){var t;if(!this.worker){let t=await this.load();if("load"===e.message)return t}let{message:n}=e;return(null===(t=this.status[n])||void 0===t?void 0:t.state)==="loading"||(this.worker.postMessage(e),this.status[n]={state:"loading"},this.status[n].promise=new Promise((e,t)=>{let s=()=>{let{state:r,data:a}=this.status[n];"done"===r&&e(a),"error"===r&&t(a),"loading"===r&&setTimeout(s,25)};s()})),this.status[n].promise}async matchTemplate(e,t){let n=d().imread(e),s=d().imread(await o(t)),r=new(d()).Mat,a=new(d()).Mat;d().matchTemplate(n,s,r,d().TM_CCOEFF_NORMED,a);let i=d().minMaxLoc(r,a),l=i.maxLoc,u=i.maxVal,c={x1:l.x,x2:l.x+s.cols,y1:l.y,y2:l.y+s.rows,matchPercent:u};return n.delete(),s.delete(),r.delete(),a.delete(),c}load(){if(this.worker){console.log("OpenCV already loaded");return}return this.worker=new Worker("/js/cv.worker.js"),this.worker.onmessage=e=>{this.status[e.data.message]={state:"done",data:e.data.data}},this.dispatch({message:"load"})}constructor(){this.status={}}},h=n(2103),g=n(4475),A=n(8960);let f={x:2,y:25,ratio:100,showJump:!0},p={...f,setX:()=>{},setY:()=>{},setRatio:()=>{},setShowJump:()=>{},toggleJump:()=>{},reset:()=>{}},j=(0,h.Ue)()((0,g.tJ)((e,t)=>({...f,setX:t=>e({x:t}),setY:t=>e({y:t}),setRatio:t=>e({ratio:t}),setShowJump:t=>e({showJump:t}),toggleJump:()=>e({showJump:!t().showJump}),reset:()=>e(f)}),{name:"SEED_48"})),v=(e,t)=>{let n=j(e,t),s=(0,A.t)();return s?n:e?e(p):p};var x=n(9558),w=n(1134),k=n(3057),b=n(2341),C=n(1840),E=n(5273),T=n(474);function I(){let e=(0,s._)(["\n  width: 100%;\n  height: auto;\n  image-rendering: pixelated;\n"]);return I=function(){return e},e}function y(){let e=(0,s._)(["\n  display: none;\n"]);return y=function(){return e},e}function P(){let e=(0,s._)(["\n  display: flex;\n  gap: 8px;\n  margin-bottom: 8px;\n"]);return P=function(){return e},e}function _(){let e=(0,s._)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n\n  & > :last-child {\n    width: 64px;\n\n  }\n"]);return _=function(){return e},e}function F(){let e=(0,s._)(["\n  display: flex;\n  align-items: center;\n  gap: 8px;\n"]);return F=function(){return e},e}let z={x1:0,x2:32,y1:0,y2:32},M=()=>{let{t:e}=(0,k.$)({ns:"seed48"}),t=(0,a.useRef)(null),n=(0,a.useRef)(null),[s,o]=(0,a.useState)(z),{stream:l,fps:c,captureStream:d,stopStream:h}=u(),g=i(),A=v(),f=async()=>{if(!l||!l.getVideoTracks().length)return;let t=l.getVideoTracks()[0].getSettings(),n=document.createElement("canvas");n.width=Math.floor(t.width||0),n.height=Math.floor(t.height||0);let s=document.createElement("video");s.srcObject=l,await s.play();let r=n.getContext("2d");r.drawImage(s,A.x,A.y,n.width*A.ratio/100,n.height*A.ratio/100,0,0,n.width,n.height),s.srcObject=null;let{x1:a,x2:i,y1:u,y2:c,matchPercent:d}=await m.matchTemplate(n,"/images/seed/48/icon.png");d<.8?T.Am.error(e("capture.autoFixNotFound")):(T.Am.success(e("capture.autoFixFound")),o({x1:a,x2:i,y1:u,y2:c}))};return(0,a.useEffect)(()=>{if(l)f();else{var e,n,s,r;o(z),document.pictureInPictureElement&&document.exitPictureInPicture(),null===(e=null===(n=t.current)||void 0===n?void 0:n.getContext("2d"))||void 0===e||e.fillRect(0,0,null===(s=t.current)||void 0===s?void 0:s.width,null===(r=t.current)||void 0===r?void 0:r.height)}},[l]),(0,a.useEffect)(()=>{if(!l||!g||!n.current||!t.current)return;let e=document.createElement("video");e.autoplay=!0,e.srcObject=l;let r=null;n.current.srcObject=t.current.captureStream();let a=()=>{if(!t.current){r&&clearInterval(r);return}let n=t.current.getContext("2d");n.imageSmoothingEnabled=!1;let{x1:a,y2:o}=s;n.drawImage(e,A.x+a+-3,A.y+o+7,243*A.ratio/100,92*A.ratio/100,0,0,243,92),n.drawImage(g.platform,0,0),A.showJump&&n.drawImage(g.jump,0,0)};return a(),r=setInterval(a,1e3/c),()=>{e.srcObject=null,r&&clearInterval(r)}},[l,s,A,g]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W,{children:l?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(w.zx,{onClick:h,children:[(0,r.jsx)(b.Vsj,{}),e("capture.stop")]}),(0,r.jsxs)(w.zx,{onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.requestPictureInPicture()},children:[(0,r.jsx)(b.Gap,{}),e("capture.pip")]}),(0,r.jsxs)(w.zx,{onClick:A.toggleJump,children:[A.showJump?(0,r.jsx)(b.UGt,{}):(0,r.jsx)(b.jYV,{}),e("capture.showJump")]}),(0,r.jsxs)(w.zx,{onClick:f,children:[(0,r.jsx)(b.e03,{}),e("capture.autoFix")]})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(w.zx,{onClick:d,children:[(0,r.jsx)(b.SMK,{}),e("capture.start")]})})}),(0,r.jsx)(R,{style:{display:l?"block":"none"},ref:t,width:243,height:92}),(0,r.jsx)(S,{ref:n,autoPlay:!0}),l&&(0,r.jsxs)(O,{title:e("advanced.title"),align:"center",legendAlign:"center",children:[(0,r.jsxs)(V,{as:"label",children:["x",(0,r.jsx)(w.iR,{min:0,max:200,value:A.x,onChange:e=>A.setX(Number(e.target.value))}),(0,r.jsx)(w.II,{value:A.x,onChange:e=>A.setX(Number(e.target.value))})]}),(0,r.jsxs)(V,{as:"label",children:["y",(0,r.jsx)(w.iR,{min:0,max:200,value:A.y,onChange:e=>A.setY(Number(e.target.value))}),(0,r.jsx)(w.II,{value:A.y,onChange:e=>A.setY(Number(e.target.value))})]}),(0,r.jsxs)(V,{as:"label",children:["ratio",(0,r.jsx)(w.iR,{min:0,max:200,value:A.ratio,onChange:e=>A.setRatio(Number(e.target.value))}),(0,r.jsx)(w.II,{value:A.ratio,onChange:e=>A.setRatio(Number(e.target.value))})]}),(0,r.jsxs)(w.zx,{styles:E.e,onClick:()=>A.reset(),children:[(0,r.jsx)(b.Jpt,{}),e("reset")]})]})]})},R=x.ZP.canvas.withConfig({componentId:"sc-c5a0f275-0"})(I()),S=x.ZP.video.withConfig({componentId:"sc-c5a0f275-1"})(y()),W=x.ZP.div.withConfig({componentId:"sc-c5a0f275-2"})(P()),V=(0,x.ZP)(C.Typography).withConfig({componentId:"sc-c5a0f275-3"})(_()),O=(0,x.ZP)(C.Fieldset).withConfig({componentId:"sc-c5a0f275-4"})(F());var U=M},5273:function(e,t,n){"use strict";n.d(t,{M:function(){return l},e:function(){return u}});var s=n(2805),r=n(9558),a=n(1386);function o(){let e=(0,s._)(["\n  &:active > svg {\n    transform: scale(0.2) rotate(-360deg);\n  }\n\n  svg {\n    transition: transform 0.325s ease-in-out;\n    animation: "," 0.325s ease-in-out;\n  }\n"]);return o=function(){return e},e}function i(){let e=(0,s._)(["\n  &:active > svg {\n    transform: scale(0.2) rotate(360deg);\n  }\n\n  svg {\n    transition: transform 0.325s ease-in-out;\n    animation: "," 0.325s ease-in-out;\n  }\n"]);return i=function(){return e},e}let l=(0,r.iv)(o(),a.F.spin),u=(0,r.iv)(i(),a.F.spin)},8960:function(e,t,n){"use strict";n.d(t,{t:function(){return r}});var s=n(6006);let r=()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t(!0)},[]),e}},7245:function(e,t,n){"use strict";n.d(t,{f:function(){return r}});var s=n(6008);let r=()=>{let e=(0,s.usePathname)(),[t,n,...r]=e.split("/");return{pathname:[t,...r].join("/"),locale:n,localizedPathname:e}}},3057:function(e,t,n){"use strict";n.d(t,{$:function(){return u}});var s=n(6345),r=n(592),a=n(2040);let o=["ko","en","zh-TW"],i="common";var l=n(7245);s.ZP.use(r.Db).use((0,a.Z)((e,t)=>n(471)("./".concat(e,"/").concat(t,".json")))).init({...function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ko",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;return{supportedLngs:o,fallbackLng:"ko",lng:e,fallbackNS:i,defaultNS:i,ns:t}}(),lng:void 0,detection:{order:["path","htmlTag","cookie","navigator"]},returnNull:!1});let u=function(){let{ns:e=i,options:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{locale:n}=(0,l.f)();return s.ZP.resolvedLanguage!==n&&s.ZP.changeLanguage(n),(0,r.$G)(e,t)}},2362:function(e){e.exports={description:"__48_description__S2Ar3",image:"__48_image__S986e"}},3182:function(e,t,n){"use strict";n.r(t),t.default={src:"/mapleutils-web//_next/static/media/48.3f8f297f.png",height:1270,width:3760,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAMFBMVEU8TCzL2c7W1c9ifHQ/UjmPpqFPYkZOemq9xsBchHTa2NSStax6nItJdmizvbjU598Vt6F3AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAI0lEQVQImWNg5mBi4mNl5mJg52Hk5+blZGRgYGBhY2FgYAAACBwAg61y4t0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:3}},9900:function(e,t,n){"use strict";n.r(t),t.default={src:"/mapleutils-web//_next/static/media/ko.4244d18f.png",height:139,width:251,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAALVBMVEUaJCM6WU4tODNigFw+TU1SaD1KXkhYb1xBUVFOXF44Qz9OdlVGY1Btg2BfdXvTClEkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAJ0lEQVQImRXBhw0AMAgDsLBD1//notp4TcXX7kuVDkqJ1D7IuGYWOQuUAKnlXQnoAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:4}},2252:function(e,t,n){"use strict";n.r(t),t.default={src:"/mapleutils-web//_next/static/media/ok.ba882c63.png",height:139,width:251,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAMAAACEE47CAAAAMFBMVEUYIiQ2TUs+XktFVkgtOThaclsoNStYeVRffVxOYzpDV1tRXF1CRT9edHxqgF9TbD7J6HxtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKElEQVQImRXBhw0AIAwDsCQdlP3/twgbe5rjG1yeSYIKKZpg/VS1aw8KfgCmF205jgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:4}}},function(e){e.O(0,[8011,9717,1629,87,3495,5248,2011,8722,9805,6315,2667,8139,1744],function(){return e(e.s=6528)}),_N_E=e.O()}]);